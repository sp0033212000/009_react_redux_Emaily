(this.webpackJsonpprod=this.webpackJsonpprod||[]).push([[0],{36:function(e,t,n){e.exports=n(65)},65:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"getUser",(function(){return O})),n.d(a,"postToken",(function(){return v}));n(37);var r=n(0),c=n.n(r),l=n(14),u=n.n(l),o=n(9),i=n(10),s=n(33),E=n(11),m=n(13),d=n.n(m),p=n(19),f=n.n(p),h={LOG_OUT:"LOG_OUT",GET_USER:"FETCH_USER",POST_TOKEN:"POST_TOKEN"},O=function(){return function(e){var t;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.awrap(f.a.get("/api/current_user"));case 2:t=n.sent,e({type:h.GET_USER,payload:t.data});case 4:case"end":return n.stop()}}))}},v=function(e){return function(t){var n;return d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.awrap(f.a.post("/api/stripe",e));case 2:n=a.sent,t({type:h.POST_TOKEN,payload:n.data});case 4:case"end":return a.stop()}}))}},y=n(3),_=Object(y.a)(),b=n(17),T=n(34),g=n.n(T),S=Object(o.b)(null,a)((function(e){return c.a.createElement(g.a,{name:"Emaily",description:"$5 for 5 Emails credits",amount:500,token:function(t){return e.postToken(t)},stripeKey:"pk_test_vhbBoVvAB7IXPGmqZiz0Eska008BCTnaEX"},c.a.createElement("button",{className:"btn"},"Add Credits"))})),w=Object(o.b)((function(e){return{auth:e.auth}}),null)((function(e){return c.a.createElement("nav",null,c.a.createElement("div",{className:"nav-wrapper"},c.a.createElement(b.a,{style:{margin:"0 10px"},to:e.auth?"/surveys":"/",className:"left brand-logo"},"Emaily"),c.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-down"},function(){switch(e.auth){case null:return null;case!1:return c.a.createElement("li",null,c.a.createElement("a",{href:"/auth/google"},"Login With Google"));default:return c.a.createElement(c.a.Fragment,null,c.a.createElement("li",null,c.a.createElement(S,null)),c.a.createElement("li",{style:{margin:"0 10px"}},"Credits: ",e.auth.credits),c.a.createElement("li",null,c.a.createElement("a",{href:"/api/logout"},"Logout")))}}())))})),N=function(){return c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement("h1",null,"Emaily!"),"Collect feedback from your users")},U=function(){return c.a.createElement("div",null,"Survey")},x=Object(o.b)(null,a)((function(e){return Object(r.useEffect)((function(){e.getUser()}),[]),c.a.createElement("div",{className:"container"},c.a.createElement(E.b,{history:_},c.a.createElement(w,null),c.a.createElement(E.c,null,c.a.createElement(E.a,{exact:!0,path:"/",component:N}),c.a.createElement(E.a,{path:"/surveys",component:U}))))})),j={},k=Object(i.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case h.GET_USER:case h.POST_TOKEN:return a||!1;default:return e}},surveys:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;t.type,t.payload;return e}}),G=function(e,t){return t.type===h.LOG_OUT&&(e=void 0),k(e,t)},C=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,L=Object(i.e)(G,C(Object(i.a)(s.a)));u.a.render(c.a.createElement(o.a,{store:L},c.a.createElement(x,null)),document.querySelector("#root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.84c9f5b4.chunk.js.map